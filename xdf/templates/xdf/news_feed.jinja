{% extends "base.jinja" %}

{% block content %}
    <h1>Racing records</h1>
    <ul class="nav nav-tabs">
        {% for i in servers %}
            <li {% if i.id == active_server.id %}class="active"{% endif %}>
                <a href="{{ url('xdf:main') }}?server_id={{ i.id }}">{{ i.name }}</a>
            </li>
        {% endfor %}
    </ul>
    <div class="tab-content">
        <div class="tab-pane active">
        <table class="table table-bordered">
            {% for record in records %}
                <tr>
                    <td>{{ record['record'].map.name }}</td>
                    <td>{{ record['record'].player.nickname }}</td>
                    <td>{{ record['record'].timestamp }}</td>
                    <td>
                        {% if record['type'] == 'speed' %}
                            Top speed: {{ record['record'].speed }}
                        {% else %}
                            #{{ record['record'].position }} &mdash; {{ time_format(record['record'].time / 100) }}
                        {% endif %}
                    </td>

                    {{ record['timestamp'] }}
                </tr>
            {% endfor %}
        </table>
        </div>
    </div>
{% endblock %}
